const moduloBlackjack=(()=>{"use strict";let e=[];const t=["C","D","H","S"],a=["A","J","Q","K"];let n,r,c,o,l,s=[];document.addEventListener("DOMContentLoaded",function(){n=document.querySelector("#btnPedir"),r=document.querySelector("#btnStop"),c=document.querySelector("#btnNew"),o=document.querySelectorAll("small"),l=document.querySelectorAll(".divCartas"),u(),n.addEventListener("click",()=>{i(0),s[0]>21?(g(n),g(r),h(s[0])):21===s[0]&&(g(n),g(r),h())}),r.addEventListener("click",()=>{g(n),g(r),h(s[0])}),c.addEventListener("click",f)});const d=()=>{e=[];for(let n of t){for(let t=2;t<11;t++){const a=t+n;e.push(a)}for(let t of a){const a=t+n;e.push(a)}}return _.shuffle(e)},u=(t=2)=>{e=d();for(let e=0;e<t;e++)s.push(0);p()},m=(e,t)=>{s[t]+=(e=>{const t=e.substring(0,e.length-1);return"J"===t||"Q"===t||"K"===t?10:"A"===t?s[0]>10?1:11:Number.parseInt(t)})(e),o[t].innerText=s[t]},i=t=>{const a=(()=>{try{if(0===e.length)throw"No hay cartas en la baraja";return e.pop()}catch(e){console.log(e)}})();m(a,t),((e,t)=>{const a=document.createElement("img");a.alt=e,a.src=`assets/cartas/${e}.png`,a.className="carta",l[t].append(a)})(a,t)},g=e=>{e.className="btn btn-secondary",e.disabled=!0},b=e=>{e.className="btn btn-primary",e.disabled=!1},h=e=>{try{document.querySelector(".back").remove()}catch(e){console.log(e)}do{if(i(s.length-1),e>21)break}while(s[s.length-1]<e&&s[s.length-1]<=21);setTimeout(()=>{s[0]<=21&&s[1]<=21?s[0]>s[1]?alert("Jugador gana!"):s[0]===s[1]?alert("Empate"):alert("La casa siempre gana :)"):s[0]<=21?alert("Jugador gana!"):s[1]<=21?alert("La casa gana"):alert("Nadie gana :(")},1e3)},p=()=>{i(s.length-1);const e=document.createElement("img");e.alt="Red back",e.src="assets/cartas/red_back.png",e.className="carta back",l[s.length-1].append(e)},f=()=>{s[0]=0,s[1]=0,o.forEach(e=>{e.innerText="0"}),b(n),b(r);const t=document.querySelectorAll(".carta");for(let e of t)e.remove();e=d(),p()};return{nuevoJuego:u}})();